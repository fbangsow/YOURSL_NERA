<!--
@Company: YOUR SL   
@Author: M.Sunny 
@Creation date: 23.June.2015  
@Ref:
-->

<apex:page showHeader="false" controller="CtrDymanicAppBuilder">
 <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"/>
  <!--<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script src='js/jquery-sortable.js'></script>-->
  
  <apex:includeScript value="{!$Resource.Jqueryv2}"/>
  <apex:includeScript value="{!$Resource.Jqueryv1}"/>
  <style type="Text/CSS">   
        #upleft {
          width: 200px;
          height: 744px;
          background: #f5f5f5;
          float: left;
          border: 1px solid #7b68ee;
        }
        
        #upright {
          width: 907px;
          height: 102px;
          border: 1px solid #7b68ee;
          border-left: 0.5px solid #7b68ee;
          border-right: 0.5px solid #7b68ee;
        }
        
        #upright,#upright3 {
          background: #f5f5f5;
          float: left;
         
        }
        
        #upright3 {
          width: 185px;
          height: 744px;
          
        }
        
        #upright2 {
       
          
         
          border-left: 0.5px solid #7b68ee;
          border-right: 0.5px solid #7b68ee;
          border-top: 0.5px solid #7b68ee;
          
        }
        #upright2coord {
          border: 0px solid #7b68ee;
        }

        }
        
        .upright2image {
         
        }
        
        #upright1 {
          width: 300px;
          height: 400px;
          background: #f5f5f5;
          float: left;
        }
        
        .clear {
          clear: both;
        }
        
        .box {
          background: #f5f5f5;
          border: 1px solid #7b68ee;
          text-align: center;
          cursor: pointer;
        }
        
        .box.is-pointer-down {
          background: #09f;
        }
        
        .box.is-dragging {
          opacity: 0.7;
        }
        
        
        .menu {
          width: 20px;
          height: 20px;
          float: right;
        }
        
        .Opttextval {
          margin: 20px;
          font-size: 20px;
        }
        
        #appsettingsnew {
          display: none;
          top: 11px;
          bottom: 0;
          position: absolute;
          left: 212px;
          width: 870px;
          background-color: rgb(100, 126, 166);
          padding: 10px 0px 0px 35px;
          min-height: 90px;
          max-height: 90px;
          color: #ffffff;
          border: 1px solid #7b68ee;
          
        }
        
        .singleclass b,.singleclass>.requiredInput {
          float: left;
          width: 140px;
          text-align: right;
        }
        
        .singleclass>.requiredInput {
          width: 130px;
        }
        
        .singleclass {
          display: block;
          width: 870px;
          margin: 16px -32px 0px -43px;
        }
        
        .singleclass input[type="submit"] {
          float: right;
        }
        
        .errorMsg {
          color: #FF8B7D;
          font-size: 0.8em;
        }
        
        .input-height,.input-width,.input-top,.input-left {
          display: none;
        }
        
        .cell {
          background: #2f4f4f;
        }

        .cellbox {
          background: #4CC417;
        }
        .backGroundColorpageConfig {
          background: #fff ;
        }
        
        .Datatable {
          margin-top: 5px;
          margin-left: 4px;
        }
        
        .newappsetting {
          display: inline-block;
          min-width: 190px;
          padding: 9px;
          height: 50px;  
         } 
        .uicontroller,.output-name { 
          color: #4682b4;
          font-family: arial;
         }   
             
        .appSettingButton {
         border: 1px solid #7b68ee !important;
         font-size: 11px !important;
         font-family: arial !important; 
         padding: 10px 10px 10px 10px !important; 
         text-decoration:none !important; 
         display: inline-block !important;
         font-weight: bold !important; 
         color: #000 !important;
         min-width: 190px !important;
         width: 100px !important;
         background: none !important;
         border-radius: 3px !important;
        }
        
        .newappsetting {
         border: 1px solid #7b68ee;
         font-size: 12px;
         font-family: arial; 
         padding: 10px 10px 10px 10px; 
         text-decoration: none; 
         display: inline-block;
         font-weight: bold; 
         color: #000000;
         min-width: 190px;
         width: 100px;
         background: none !important;
         border-radius: 3px !important;
        }
        .Savebtn,.cancelIT {
         border: 1px solid #7b68ee;
         font-size: 12px;
         font-family: arial; 
         padding: 10px 10px 10px 10px; 
         text-decoration: none; 
         display: inline-block;
         font-weight: bold; 
         color: #000000;
         min-width: 100px;
         width: 50px;
         background: none !important;
         height: 38px;
         border-radius: 3px !important;
        }
        .SelectClass {
         border: 1px solid #7b68ee; 
         padding: 10px 10px 10px 10px; 
         text-decoration: none; 
         display: inline-block;
         font-weight: bold; 
         color: #000000;
         min-width: 100px;
         width: 50px;
         background: none;
         height: 38px;
         border-radius: 3px !important;
        }
        .Standardobj,.Customobj {
         border: 1px solid #7b68ee; 
         padding: 10px 10px 10px 10px; 
         text-decoration: none; 
         display: inline-block;
         font-weight: bold; 
         color: #000000;
         min-width: 100px;
         width: 200px;
         background: none;
         height: 38px;
         border-radius: 3px !important;
        }        
        .pageimageClass {
         width: 300px;
         height: 100px;
         margin: 150px 0px 0px 300px;
        }
        .customshowhide,.standardhowhide,.customshowhideCus,.standardhowhideCus {
        overflow:scroll;
        height:150px;
        width: 190px;
        }


    </style>
     <script type="text/javascript">
            var $ = jQuery.noConflict();
            $(document).ready(function() {
                var xBezel = 0;
                var yBezel = 0;
                var widthcal = 0;
                var heightcal = 0;
                var pageconfigheightif = 0;
                var pageconfigwidthif = 0;
                var pageconfigyaxisif = 0;
                var pageconfigxaxisif = 0;


                function htmlDecode(value) {
                    if (value) {
                        return $('<div />').html(value).text();
                    } else {
                        return '';
                    }
                }

                $(".newappsetting").click(function() {
                    $("#appsettingsnew").css("display", "block");
                    return false;

                });
                $("#upright2,#upright3,#upleft").click(function() {

                    $("#appsettingsnew").css("display", "none");
                });
                var jsonObj = [];
                var jsonObjPageconfig = [];

                $(document).on("mouseleave", ".box", function(e) {

                  

                    if (typeof $(".input-height,.input-left").css("display") !== "undefined") {

                        var id = $(this).find(".uicontroller").attr("id");

                        var parentid = $("#upright2").find(".uicontroller1").attr("id");
                        
                        var uiname = $(this).find(".uinamedy").attr("id");                        

                        var height = parseFloat($(".input-height").val());
                        height = height * heightcal;
                        height = height.toString();

                        var width = parseFloat($(".input-width").val());
                        width = width * widthcal;
                        width = width.toString();

                        var p = $("#upright2");
                        var offset = p.position();

                        var leftoff = offset.left;
                        var topoff = offset.top;

                        var xCoordinate1 = parseFloat($(".input-left").val()) - parseFloat(leftoff) - xBezel;
                        var yCoordinate1 = parseFloat($(".input-top").val()) - parseFloat(topoff) - yBezel;
              

                      if (typeof $(".pageconfwidthhidden").val() !== "undefined" && $(".pageconfheighthidden").val() !== "undefined") {

                        var xCoordinateif = parseFloat(xCoordinate1) * widthcal;
                        var yCoordinateif = parseFloat(yCoordinate1) * heightcal;

                        var xCoordinate = xCoordinateif - pageconfigxaxisif;
                        var yCoordinate = yCoordinateif - pageconfigyaxisif;
                        
      
                      } else{

                        var xCoordinate = parseFloat(xCoordinate1) * widthcal;
                        var yCoordinate = parseFloat(yCoordinate1) * heightcal;

                      }

                        yCoordinate = yCoordinate.toString();
                        xCoordinate = xCoordinate.toString();



                        if (width.indexOf(",") > 0) {
                            width = width.replace(",", ".");
                        }
                        if (height.indexOf(",") > 0) {
                            height = height.replace(",", ".");
                        }
                        if (xCoordinate.indexOf(",") > 0) {
                            xCoordinate = xCoordinate.replace(",", ".");
                        }
                        if (yCoordinate.indexOf(",") > 0) {
                            yCoordinate = yCoordinate.replace(",", ".");
                        }

                        item = {}
                        item["id"] = id;
                        item["height1"] = height;
                        item["width1"] = width;
                        item["xCoordinate1"] = xCoordinate;
                        item["yCoordinate1"] = yCoordinate;
                        item["parentid1"] = parentid;
                        item["uiname1"] = uiname;

                        jsonObj.push(item);
                        console.log(jsonObj);
                    }

                });


                $(document).on("click", ".Savebtn", function(e) {
                    alert("Please confirm if everything is correct");
                    $(".input-height,.input-width,.input-top,.input-left,.output-name").hide();
                    $(".box").removeClass("cell");
                    $(".box").removeClass("cellbox");

                    var jsondata = JSON.stringify(jsonObj);
                    var jsondataPageconfig = JSON.stringify(jsonObjPageconfig);
                    Visualforce.remoting.Manager.invokeAction('{!$RemoteAction.CtrDymanicAppBuilder.getUIControl}', jsondata, jsondataPageconfig,

                        function(result, event) {
                            console.log(result);
                        }, {
                            escape: true
                        });


                });

                  $(document).on("click", ".box", function(e) {

                        var iduicon= $(this).find(".uicontroller").attr("id");

                        Visualforce.remoting.Manager.invokeAction('{!$RemoteAction.CtrDymanicAppBuilder.getUIcontroluiAttributes}', iduicon,

                        function(result, event) {

                        var resultdata = htmlDecode(result);
                        var a = JSON.parse(resultdata);
                        }, {
                        escape: true
                        });
                  });



                $(document).on("mouseover", ".box", function(e) {
                    $(".box").removeClass("cell");
                    $(this).addClass("cell");
                    $(".input-height,.input-width,.input-top,.input-left,.output-name").attr("style", "display:inline");

                    var top = $(this).css("top");
                    var left = $(this).css("left");
                    var width = $(this).css("width");
                    var height = $(this).css("height");
                    var name = $(this).text();

                    $(".input-top").val(top);
                    $(".input-left").val(left);
                    $('.input-width').val(width);
                    $('.input-height').val(height);
                    $('.output-name').val(name);

                });



                $(document).on("change", ".SelectClass", function(e) {
                     jsonObj = [];
                    $(".box,.pageimageClass,.uicontroller1,.uinamedy,#pageinternalbox,.pageconfwidthhidden,.pageconfheighthidden").remove();

                    
                    $(".input-height,.input-width,.input-top,.input-left,.output-name").hide();

                    if ($(".SelectClass").val() != "None") {
                        var jsondata = $(".SelectClass").val();
                        Visualforce.remoting.Manager.invokeAction('{!$RemoteAction.CtrDymanicAppBuilder.getpageconfigUIcon}', jsondata,

                            function(result, event) {
                                var resultdata = htmlDecode(result);
                                var a = JSON.parse(resultdata);
                                var p = $("#upright2");
                                var offset = p.position();
                                var leftoff = offset.left;
                                var topoff = offset.top;
                                $(".box1").css("background-color", "" + a.BackGround_Color__c + "");
                                $(".input-Backcolor").val(a.BackGround_Color__c);

                                pageconfigheightif = a.Height__c;
                                pageconfigwidthif = a.Width__c;
                                pageconfigyaxisif = a.YCoordinate__c;
                                pageconfigxaxisif = a.XCoordinate__c;  
                          
                                
                                $("#upright2").append("<input type='hidden' class='pageconfwidthhidden' value='"+pageconfigheightif+"'/><input type='hidden' class='pageconfheighthidden' value='"+pageconfigwidthif+"'/>");

                                if(typeof a.Height__c !== "undefined" && a.Width__c !== "undefined"){

                                var pageconfigheight = parseFloat(a.Height__c/heightcal);
                                var pageconfigwidth = parseFloat(a.Width__c/widthcal);
                                var pageconfigyaxis = parseFloat(a.YCoordinate__c/heightcal);
                                var pageconfigxaxis = parseFloat(a.XCoordinate__c/widthcal);

                                $(".box1").append("<div style='height:" + pageconfigheight + "px; width:" + pageconfigwidth + "px;top:" + pageconfigyaxis + "px;left:" + pageconfigxaxis + "px; position:absolute; border: 1px solid #000; class='pageconfiginternal' id='pageinternalbox'></div>");
                                }
                                
                                $("#upright2").append("<div class='uicontroller1' id='" + a.Id + "'></div>");

                                $.each(a.UIControls__r.records, function(key, value) {

                                    var sprtewidth = parseFloat(value.XCoordinate__c) / widthcal;
                                    var sprteheight = parseFloat(value.YCoordinate__c) / heightcal;
                                    
                                    var cmbneleft = parseFloat(leftoff) + sprtewidth + xBezel;
                                    var cmbnetop = parseFloat(topoff) + sprteheight + yBezel;

                                    var cmbneleftif = cmbneleft + pageconfigxaxisif;
                                    var cmbnetopif = cmbnetop + pageconfigyaxisif;

                                    var height1 = value.Height__c / heightcal;
                                    var width1 = value.Width__c / widthcal;

                                    if (typeof $(".pageconfwidthhidden").val() !== "undefined" && $(".pageconfheighthidden").val() !== "undefined") {

                                    $("#upright2").append("<div style='height:" + height1 + "px; width:" + width1 + "px; position:absolute; border: 0.5px solid #55658E; background-image : url(/servlet/servlet.FileDownload?file=" + value.AttachmentId__c + "); background-repeat: no-repeat; background-size: 100% 100%; left:" + cmbneleftif + "px;top:" + cmbnetopif + "px' class='box'><p class='uicontroller' id='" + value.Id + "' >" + value.Name + "(" + value.Type__c + ")" + "</p></div>");
                                    }else{

                                    $("#upright2").append("<div style='height:" + height1 + "px; width:" + width1 + "px; position:absolute; border: 0.5px solid #55658E; background-image : url(/servlet/servlet.FileDownload?file=" + value.AttachmentId__c + "); background-repeat: no-repeat; background-size: 100% 100%; left:" + cmbneleft + "px;top:" + cmbnetop + "px' class='box'><p class='uicontroller' id='" + value.Id + "' >" + value.Name + "(" + value.Type__c + ")" + "</p></div>");

                                  }

                                })
                            }, {
                                escape: true
                            });
                    }
                });


                $(document).on("click", ".cancelIT", function(e) {
                    alert("Please confirm It before going to cancel");
                    $(".box").remove();
                    $(".pageimageClass").remove();


                    $(".input-height,.input-width,.input-top,.input-left,.output-name").hide();

                    if ($(".SelectClass").val() != "None") {
                        var jsondata = $(".SelectClass").val();
                        Visualforce.remoting.Manager.invokeAction('{!$RemoteAction.CtrDymanicAppBuilder.getpageconfigUIcon}', jsondata,

                            function(result, event) {
                                var resultdata = htmlDecode(result);
                                var a = JSON.parse(resultdata);
                                var p = $("#upright2");
                                var offset = p.position();
                                var leftoff = offset.left;
                                var topoff = offset.top;
                                $(".box1").css("background-color", "" + a.BackGround_Color__c + "");
                                $(".input-Backcolor").val(a.BackGround_Color__c);

                                $.each(a.UIControls__r.records, function(key, value) {

                                    var sprtewidth = parseFloat(value.XCoordinate__c) / widthcal;
                                    var sprteheight = parseFloat(value.YCoordinate__c) / heightcal;


                                    var cmbneleft = parseFloat(leftoff) + sprtewidth + xBezel;
                                    var cmbnetop = parseFloat(topoff) + sprteheight + yBezel;

                                    var height1 = value.Height__c / heightcal;
                                    var width1 = value.Width__c / widthcal;

                                    $("#upright2").append("<div style='height:" + height1 + "px; width:" + width1 + "px; position:absolute; border: 0.5px solid #55658E; background-image : url(/servlet/servlet.FileDownload?file=" + value.AttachmentId__c + "); background-repeat: no-repeat; background-size: 100% 100%; left:" + cmbneleft + "px;top:" + cmbnetop + "px' class='box' ><p class='uicontroller' id='" + value.Id + "' >" + value.Name + "(" + value.Type__c + ")" + "</p></div>");
                                })
                            }, {
                                escape: true
                            });
                    }
                });


                $(document).on("click", ".appSettingButton", function(e) {
                    $(".box").remove();
                    $(".pageimageClass").remove();


                    $(".input-height,.input-width,.input-top,.input-left,.output-name").hide();

                    var appSettingsjsondata = $(this).attr("class");
                    var splitclass = appSettingsjsondata.split(" ");
                    var appSettingsjsondatainput = splitclass[2];
                    Visualforce.remoting.Manager.invokeAction('{!$RemoteAction.CtrDymanicAppBuilder.getAppSettingsImages}', appSettingsjsondatainput,

                        function(result, event) {
                            var resultdata = htmlDecode(result);
                            var a = JSON.parse(resultdata);

                            var p = $("#upright2");
                            var offset = p.position();

                            var leftoff = offset.left;
                            var topoff = offset.top;



                            $("#upright2").css({
                                'background-image': "url('/servlet/servlet.FileDownload?file=" + a.mobileDevice__r.attachmentId__c + "')",
                                'background-size': "907px 640px",
                                'width': "907px",
                                'height': "640px"

                            });

                           // widthcal = parseFloat(a.mobileDevice__r.width__c) / parseFloat($("#upright2").width());
                           // heightcal = parseFloat(a.mobileDevice__r.height__c) / parseFloat($("#upright2").height());

                            widthcal = parseFloat(a.mobileDevice__r.width__c)/parseFloat(a.mobileDevice__r.XFrame__c);
                            heightcal = parseFloat(a.mobileDevice__r.height__c)/parseFloat(a.mobileDevice__r.YFrame__c);

                            xBezel = a.mobileDevice__r.XBezel__c;
                            yBezel = a.mobileDevice__r.YBezel__c;

                            var yBezel1 = parseFloat(yBezel) + parseFloat(topoff);
                            var xBezel1 = parseFloat(xBezel) + parseFloat(leftoff);

                            var yframe = a.mobileDevice__r.YFrame__c;
                            var xframe = a.mobileDevice__r.XFrame__c;
                          


                            $("#upright2").append("<div style='height:" + yframe + "px; width:" + xframe + "px; position:absolute; border: 0px solid #55658E; left:" + xBezel1 + "px;top:" + yBezel1 + "px' class='box1' ></div>");

                        }, {
                            escape: true
                        });

                });

                $(document).on("focusout", ".input-Backcolor", function(e) {

                    var backgroundcolor = $(".input-Backcolor").val();
                    var pagiconfigid = $("#upright2").find(".uicontroller1").attr("id");

                    item = {}

                    item["pagiconfigid1"] = pagiconfigid;
                    item["backgroundcolor1"] = backgroundcolor;


                    jsonObjPageconfig.push(item);
                    console.log(jsonObjPageconfig);

                });

                $(document).on("mouseover", ".customshowhide tr,.standardhowhide tr,.customshowhideCus tr,.standardhowhideCus tr", function() {

                    var divvalue = $(this).text();
                   // divvalue = divvalue.replace("__c", "");

                    if(typeof pageconfigheightif !== "undefined" && pageconfigwidthif !== "undefined"){
                    $(this).sortable({
                        stop: function(event, ui) {
                            $("#upright2").append("<div style='border:0.5px solid #55658E;width:50px;height:50px;position:absolute !important;left:" + ui.position.left + "px;top:" + ui.position.top + "px'' class='box'><p class='uinamedy' id='"+divvalue+"'>" + divvalue + "</p></div><div style='border:0.5px solid #55658E;width:50px;height:50px;position:absolute !important;left:" + ui.position.left + "px;top:" + ui.position.top + "px'' class='box'><p class='uinamedy' id='"+divvalue+"Value'>" + divvalue + "Value</p></div>");
                        },
                        containment: '#pageinternalbox'
                    });
                   }
                   else{
                     $(this).sortable({
                        stop: function(event, ui) {
                            $("#upright2").append("<div style='border:0.5px solid #55658E;width:50px;height:50px;position:absolute !important;left:" + ui.position.left + "px;top:" + ui.position.top + "px'' class='box'><p class='uinamedy' id='"+divvalue+"'>" + divvalue + "</p></div>");
                        },
                        containment: '.box1'
                    });
                  }

                });

            });
 </script>
<apex:form >
   <div id="maindiv">
    <div id="upleft">
         <input type="button" value="New AppSettings" style="margin: 12px 0px 0px 5px;" Class="newappsetting" /><br/><br/><br/><br/>
        <b style="margin-left: 59px;font-size: 13px;">AppSettings</b>
        <apex:dataTable value="{!listAppSettings}" var="app" styleClass="Datatable" >     
            <apex:column styleClass="columnstyle"  >
            
                <apex:actionRegion >                
                    <apex:commandbutton value="{!app.name}" action="{!GetAppSettings}" reRender="app1,app2"  styleClass="appSettingButton {!app.id}"  > 

                    <apex:param value="{!app.id}" name="accval" assignTo="{!selectedappsettings}"  />                  
                    </apex:commandbutton>
                </apex:actionRegion>
            </apex:column>
        </apex:dataTable> 
        <b style="margin-left: 59px;font-size: 13px;">Standard Objects</b>
      <apex:selectList value="{!StandardObjects}" size="1" styleClass="Standardobj">
      <apex:selectOptions value="{!StandardObjectsList}">
      
      </apex:selectOptions>
      <apex:actionSupport action="{!getStandardObjectFields}" event="onchange" rerender="myFields"/>
      </apex:selectList>
      <apex:outputPanel id="myFields"> 
      <script type="text/javascript">
      var $ = jQuery.noConflict();
      $(document).ready(function() {

          if ($(".tabletorepeat tr").length > 0) {
              $(".treecontainer").attr("style", "display:block")
          }
          var combinecustom = "";
          var combinestandard = "";
          $(".tabletorepeat tr").each(function() {
              var treestructre = $(this).find("td").text();


              if (treestructre.indexOf("__c") >= 0) {
             //   treestructre = treestructre.replace("__c", "");
                
                  combinecustom = combinecustom + "<tr><td>" + treestructre + "</td></tr>";

              } else {

                  combinestandard = combinestandard + "<tr><td>" + treestructre + "</td></tr>";

              }


          });
          $(".custombody").append(combinecustom);
          $(".Standardbody").append(combinestandard);
      })
      $(".customclick,.customimge").click(function() {

          if ($(".customshowhide").css("display") == "none") {
              $(".customshowhide").attr("style", "display:block;margin-left:10px");
              $(".customimge").attr("src", "/img/alohaSkin/setup/setup_minus_lev1.gif");

          } else {
              $(".customshowhide").attr("style", "display:none;margin-left:10px");
              $(".customimge").attr("src", "/img/alohaSkin/setup/setup_plus_lev1.gif");
          }


      });





      $(".standardclick,.standradimge").click(function() {

          if ($(".standardhowhide").css("display") == "none") {
              $(".standardhowhide").attr("style", "display:block;margin-left:10px");
             
              $(".standradimge").attr("src", "/img/alohaSkin/setup/setup_minus_lev1.gif");

          } else {
              $(".standardhowhide").attr("style", "display:none;margin-left:10px");
              
              $(".standradimge").attr("src", "/img/alohaSkin/setup/setup_plus_lev1.gif");

          }


      });

      </script>
      <table class="tabletorepeat" style="display:none;">

      <apex:repeat value="{!StdObjectFields}" var="obj">
      <tr>
      <td>
      {!obj}

      </td>
      </tr>
      </apex:repeat>
      
      </table>
      </apex:outputPanel>

      <div class="treecontainer" style="display:none;">
<img src="/img/alohaSkin/setup/setup_plus_lev1.gif"  width="11" height="11" class="setupImage customimge"  style="float:left" /><p class="customclick" style="margin:0px;float:left;width:100px;margin-bottom:5px;">Custom Fields</p>
<div style="clear:both"></div>
<table style="margin-left:25px;display:none" class="customshowhide"><tbody class="custombody"></tbody></table>
<div style="clear:both"></div>
<img src="/img/alohaSkin/setup/setup_plus_lev1.gif" width="11" height="11" class="setupImage standradimge" style="float:left" /><p class="standardclick" style="margin:0px;float:left;width:100px;margin-bottom:5px;">Standarda Fields</p>
<div style="clear:both"></div>
<table style="margin-left:25px;display:none" class="standardhowhide"><tbody class="Standardbody"></tbody></table>

      </div>



      <b style="margin-left: 59px;font-size: 13px;">Custom Objects</b>
      <apex:selectList value="{!CustomObjects}" size="1" styleClass="Customobj">
      <apex:selectOptions value="{!CustomObjectsList}">
      
      </apex:selectOptions>
      <apex:actionSupport action="{!getCustomObjectFields}" event="onchange" rerender="myFields1"/>
      </apex:selectList>

       <apex:outputPanel id="myFields1">
       <script type="text/javascript">
       var $ = jQuery.noConflict();
      $(document).ready(function() {

          if ($(".tabletorepeatCus tr").length > 0) {
              $(".treecontainerCus").attr("style", "display:block")
          }
          var combinecustom = "";
          var combinestandard = "";
          $(".tabletorepeatCus tr").each(function() {
              var treestructre = $(this).find("td").text();


              if (treestructre.indexOf("__c") >= 0) {
               //   treestructre = treestructre.replace("__c", "");
                  combinecustom = combinecustom + "<tr><td>" + treestructre + "</td></tr>";

              } else {
                  combinestandard = combinestandard + "<tr><td>" + treestructre + "</td></tr>";

              }


          });
          $(".custombodyCus").append(combinecustom);
          $(".StandardbodyCus").append(combinestandard);
      })
      $(".customclickCus,.customimgeCus").click(function() {

          if ($(".customshowhideCus").css("display") == "none") {
              $(".customshowhideCus").attr("style", "display:block;margin-left:10px");
              $(".customimgeCus").attr("src", "/img/alohaSkin/setup/setup_minus_lev1.gif");

          } else {
              $(".customshowhideCus").attr("style", "display:none;margin-left:10px");
              $(".customimgeCus").attr("src", "/img/alohaSkin/setup/setup_plus_lev1.gif");
          }


      })
      $(".standardclickCus,.standradimgeCus").click(function() {

          if ($(".standardhowhideCus").css("display") == "none") {
              $(".standardhowhideCus").attr("style", "display:block;margin-left:10px");
              $(".standradimgeCus").attr("src", "/img/alohaSkin/setup/setup_minus_lev1.gif");

          } else {
              $(".standardhowhideCus").attr("style", "display:none;margin-left:10px");
              $(".standradimgeCus").attr("src", "/img/alohaSkin/setup/setup_plus_lev1.gif");

          }


      });

      </script> 
       <table class="tabletorepeatCus" style="display:none;">

      <apex:repeat value="{!CusObjectFields}" var="obj">
      <tr>
      <td>
      {!obj}

      </td>
      </tr>
      </apex:repeat>
      
      </table>

      </apex:outputPanel>
       <div class="treecontainerCus" style="display:none;">
<img src="/img/alohaSkin/setup/setup_plus_lev1.gif"  width="11" height="11" class="setupImageCus customimgeCus" style="float:left" /><p class="customclickCus" style="margin:0px;float:left;width:100px;margin-bottom:5px;">Custom Fields</p>
<div style="clear:both"></div>
<table style="margin-left:25px;display:none" class="customshowhideCus"><tbody class="custombodyCus"></tbody></table>
<div style="clear:both"></div>
<img src="/img/alohaSkin/setup/setup_plus_lev1.gif"  width="11" height="11" class="setupImageCus standradimgeCus" style="float:left" /><p class="standardclickCus" style="margin:0px;float:left;width:100px;margin-bottom:5px;">Standarda Fields</p>
<div style="clear:both"></div>
<table style="margin-left:25px;display:none" class="standardhowhideCus"><tbody class="StandardbodyCus"></tbody></table>

      </div>
        </div> 
    
        <div style="float:left;">
        <div id="upright"> 
        
            <apex:outputPanel id="app1">
            <b class="Opttextval"><apex:outputText value="{!AppSettingValue}"/></b>
                <apex:selectList value="{!PageConfigSelect}" multiselect="false" size="1" style="width:189px;margin:46px;font-size:14px;" styleClass="SelectClass">
                    <apex:selectOptions value="{!PageConfig}"/> 
                </apex:selectList> 
                <input type="button" value="Save" class="Savebtn" />
                <input  type="button" value="Cancel" class="cancelIT"></input>
            </apex:outputPanel>         
        </div>
        <div class="clear"></div>       
        <div id="upright2">  
        <div id="upright2coord">
        <apex:outputPanel id="app2">      
        <script type="text/javascript">
                 var $ = jQuery.noConflict();
                 $(document).ready(function() {                 
                 var p = $("upright2");                
                 var offset = p.offset();
                 
                 $(document).on("mouseover",".box",function(){
                     $(".box").removeClass('drag');

                     $(this).addClass('drag');
                     var c = $('.drag');

                     if (typeof $(".pageconfwidthhidden").val() !== "undefined" && $(".pageconfheighthidden").val() !== "undefined") {
                     $('.drag').draggable({
                         revert: function() {
                             var position = $(c).position();
                             $(".input-top").val(position.top + "px");
                             $(".input-left").val(position.left + "px");
                             $(this).addClass("cellbox");  
                             
                         },
            
                         containment: '#pageinternalbox',
                        
                     });
                     $('.drag').resizable({
                         resize: function(event, ui) {
                             var width = $(c).width();
                             var height = $(c).height();
                             $('.input-width').val(width + "px");
                             $('.input-height').val(height + "px");
                             $(this).addClass("cellbox");  
                             
                         },
                         handles: ' n, e, s, w, ne, se, sw, nw',
                         containment: '#pageinternalbox',                          
                     });
                   } 
                   else{
                    $('.drag').draggable({
                         revert: function() {
                             var position = $(c).position();
                             $(".input-top").val(position.top + "px");
                             $(".input-left").val(position.left + "px");
                             $(this).addClass("cellbox");  
                             
                         },
            
                         containment: '.box1',
                        
                     });
                     $('.drag').resizable({
                         resize: function(event, ui) {
                             var width = $(c).width();
                             var height = $(c).height();
                             $('.input-width').val(width + "px");
                             $('.input-height').val(height + "px");
                             $(this).addClass("cellbox");  
                             
                         },
                         handles: ' n, e, s, w, ne, se, sw, nw, all',
                         containment: '.box1',                          
                     });

                   }
                     
                     $(".input-width").on("keyup", function(e) {
                         
                         var newWidth = $(".input-width").val();
                         $(".drag").width(newWidth + "px");
                         
                         
                         
            
                     });
                     $(".input-height").on("keyup", function(e) {
                                
                         var newheight = $(".input-height").val();
                         $(".drag").height(newheight + "px");
                         

            
                     });
                     $(".input-top").on("keyup", function(e) {
            
                         var newtop = $(".input-top").val();
                         $(".drag").css("top", newtop + "px");
                          
            
                     });
                     $(".input-left").on("keyup", function() {
            
                         var newleft = $(".input-left").val();
                         $(".drag").css("left", newleft + "px");
                         
            
                     });
 
                 });

                      
                       $(".input-Backcolor").on("blur", function() {


                         var newBackgroundColor = $(".input-Backcolor").val();
                      
                         $(".box1").css("background-color", "'"+ newBackgroundColor +"'");

                     });

             });
                         
        </script>           
        </apex:outputPanel>
        </div> 
        </div>
        </div>
         <div id="upright3" style="border:1px solid #7b68ee" >

          <div  style="margin-top: 100px;">
              <b style="text-align: center;margin-left: 40px;font-size: 13px;">UIControls</b><br/>

              <label >Name : <output type="text" class="output-name" size="10"/></label><br/>
              <label >Height : <input type="text" class="input-height" size="10" /></label><br/>
              <label >Width : <input type="text" class="input-width" size="10"/></label><br/>
              <label >Y-Coordinate : <input type="text" class="input-top" size="10"/></label><br/>
              <label >X-Coordinate : <input type="text" class="input-left" size="10"/></label><br/>

              <b style="text-align: center;margin-left: 20px;font-size: 13px;">PageConfig Controls</b><br/>
               <label >BackGround Color <input type="text" class="input-Backcolor" size="10"/></label><br/>
           <!-- <label >BackGround Image <input id="uploadFile" type="file" name="image" class="img" /></label>-->

              
              
          </div>   

           
       </div>       
       </div>  
</apex:form>
<apex:form >
       <div id="appsettingsnew">                          
         <div class="singleclass"> <b>AppSettings Name :</b>&nbsp;&nbsp;<apex:inputField value="{!appsett.Name}" required="true" html-placeholder="Name" style="border:1px solid red"/>     
              <b>AppVersion :</b><apex:inputField value="{!appsett.AppVersion__c}" required="true" html-placeholder="AppVersion(Number)" style="border:1px solid red"/>      
              <b>Hash Key :</b><apex:inputField value="{!appsett.Hash_Key__c}" html-placeholder="Hash Key"/>      
          </div>
          <div class="singleclass">
              <b>MobileDevice :</b><apex:inputField value="{!appsett.mobileDevice__c}" required="true" html-placeholder="MobileDevice"  style="border:1px solid red" />    
              <b>version :</b><apex:inputField value="{!appsett.version__c}" html-placeholder="Version"/>
              <apex:commandButton value="Save" action="{!saveappsettings}" style="display:inline-block;min-width: 100px;width: 80px;padding:5px 10px;margin: 0px 81px 0px 1px;" styleClass="savehide" />    
         </div>
      </div> 
    
       
</apex:form>
</apex:page>